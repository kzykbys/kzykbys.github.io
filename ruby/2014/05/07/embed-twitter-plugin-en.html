	<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Adding a new Liquid tag for Jekyll (Embeding tweet)</title>        
        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />        
        <meta name="HandheldFriendly" content="true" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0" />

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
		<link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/jquery.sidr.dark.css">
		<link href='http://fonts.googleapis.com/css?family=Gruppo' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Josefin+Sans' rel='stylesheet' type='text/css'>

        <!-- jQuery -->
<script src="/javascript/jquery-1.11.1.min.js"></script>
<!-- slide menu -->
<script src="/javascript/jquery.sidr.min.js"></script>
<!-- For FB like buttom -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=571082556301479&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

	</head>
	
	<body>
    
        <div id="mobile-sticky-menu">
	<a   class="slide-menu" id="mobile-menu-button" href="#sidr">Menu</a>
	<!-- <img class="slide-menu" id="mobile-logo" src="/images/a.png" width="24" height="24" alt="" /> -->
</div>

<div id="sidr">
	<!-- Your content -->
	<!-- <h4>Share</h4> -->

	<h4>Category</h4>
	<ul>
	   
		   <li>
		   		<a href="/categories/objective-c">objective-c</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/other">other</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/node-js">node.js</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/ruby-on-rails">ruby on rails</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/tips">tips</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/html5">html5</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/algorithms">algorithms</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/machine-learning">machine learning</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/c">c</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/ruby">ruby</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/swift">swift</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/ios">ios</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/books">books</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/kindle">kindle</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/nginx">nginx</a>
		   </li>
	   
		   <li>
		   		<a href="/categories/capistrano">capistrano</a>
		   </li>
	   
    </ul>
	<h4>Archive</h4>
	<ul>
		
			<li>
				<a href="/2013/08/">2013/08</a>
			</li>
		
			<li>
				<a href="/2013/09/">2013/09</a>
			</li>
		
			<li>
				<a href="/2013/11/">2013/11</a>
			</li>
		
			<li>
				<a href="/2013/12/">2013/12</a>
			</li>
		
			<li>
				<a href="/2014/01/">2014/01</a>
			</li>
		
			<li>
				<a href="/2014/03/">2014/03</a>
			</li>
		
			<li>
				<a href="/2014/04/">2014/04</a>
			</li>
		
			<li>
				<a href="/2014/05/">2014/05</a>
			</li>
		
			<li>
				<a href="/2014/06/">2014/06</a>
			</li>
		
			<li>
				<a href="/2014/07/">2014/07</a>
			</li>
		
			<li>
				<a href="/2014/08/">2014/08</a>
			</li>
		
			<li>
				<a href="/2014/09/">2014/09</a>
			</li>
		
			<li>
				<a href="/2014/10/">2014/10</a>
			</li>
		
			<li>
				<a href="/2015/02/">2015/02</a>
			</li>
		
			<li>
				<a href="/2015/07/">2015/07</a>
			</li>
		
	</ul>

</div>

        <div class="site">

			<!-- title -->
			<!-- Header -->
<header>
<h1><a href="http://blog.kazuya.co/"><img src="/images/title.png" alt="logo" /></a></h1>
	<hr />
</header>

			<div id="contents">
				
				<div id="main">
					<h3><a href="">Adding a new Liquid tag for Jekyll (Embeding tweet)</a></h3>
					<span class="author">
						<span class="date">2014-05-07 21:30:00 +0900</span>
					</span>

					<hr />
					<div id="social-buttom">
	<!-- Social Buttoms -->
	<ul>
		<li>
			<!-- Pocket -->
			<a data-pocket-label="pocket" data-pocket-count="vertical" class="pocket-btn" data-lang="en"></a>
			<script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
		</li>		
		<li>
			<!-- Vertical Twitter -->
			<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-count="vertical" data-hashtags="TipEdge">Tweet</a>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
		</li>				
		<li>
			<!-- FB -->
			<div class="fb-like" data-href="http://blog.kazuya.co//ruby/2014/05/07/embed-twitter-plugin-en.html" data-layout="box_count" data-action="like" data-show-faces="false" data-share="false"></div>
		</li>				
		<li style="margine-left: 10px;!important">
			<!-- Hatena -->
			<a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-title="Adding a new Liquid tag for Jekyll (Embeding tweet)" data-hatena-bookmark-layout="vertical-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加" "><img src="http://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
		</li>		
	</ul>
</div>

		      		<hr class="clear-list"/>

					<div class="post">
						<blockquote>
<blockquote>
<p><span class="deprecate">This article might be too old.</span>  </p>
</blockquote>
</blockquote>

<p>I made new Liquid tag that enables embedding tweets on Jekyll. This Liquid allows you to easily read tweets on articles. It&#39;s almost like Jekyll&#39;s official gist tag.</p>

<blockquote>
<blockquote>
<p>{\% tweet 464180168303456256 \%}</p>
</blockquote>
</blockquote>

<p>After removing the back slash, you can put this simple tag on your markdown. It will get JSON data from twitter. After that, we will use html data on the response. The result should look like this.</p>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">(๑•̀ㅂ•́)و✧ .o0O ( [ Test tweet ]「テストつぶやき」)</p>&mdash; Kazuya Kobayashi (@kzy_kbys) <a href="https://twitter.com/kzy_kbys/status/464180168303456256">May 7, 2014</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Here is the code: </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="lineno"> 1</span> <span class="c1"># Tweet Liquid Tag</span>
<span class="lineno"> 2</span> <span class="c1">#</span>
<span class="lineno"> 3</span> <span class="c1"># Example: </span>
<span class="lineno"> 4</span> <span class="c1">#   \{\% tweet 464180168303456256 \%\}</span>
<span class="lineno"> 5</span> <span class="c1">#</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="nb">require</span> <span class="s1">&#39;net/http&#39;</span>
<span class="lineno"> 8</span> <span class="nb">require</span> <span class="s1">&#39;json&#39;</span>
<span class="lineno"> 9</span> 
<span class="lineno">10</span> <span class="k">module</span> <span class="nn">Jekyll</span>
<span class="lineno">11</span>   <span class="k">class</span> <span class="nc">TweetTag</span> <span class="o">&lt;</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Tag</span>
<span class="lineno">12</span> 
<span class="lineno">13</span>     <span class="c1">#</span>
<span class="lineno">14</span>     <span class="c1">#</span>
<span class="lineno">15</span>     <span class="c1">#</span>
<span class="lineno">16</span>     <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="lineno">17</span>       
<span class="lineno">18</span>       <span class="k">if</span> <span class="n">tag_contents</span> <span class="o">=</span> <span class="n">determine_arguments</span><span class="p">(</span><span class="vi">@markup</span><span class="o">.</span><span class="n">strip</span><span class="p">)</span>
<span class="lineno">19</span>         <span class="n">tweet_id</span> <span class="o">=</span> <span class="n">tag_contents</span> <span class="c1">#</span>
<span class="lineno">20</span>         <span class="n">tweet_script_tag</span><span class="p">(</span><span class="n">tweet_id</span><span class="p">)</span>
<span class="lineno">21</span>       <span class="k">else</span>
<span class="lineno">22</span>         <span class="k">raise</span> <span class="no">ArgumentError</span><span class="o">.</span><span class="n">new</span> <span class="o">&lt;&lt;-</span><span class="no">eos</span>
<span class="lineno">23</span> <span class="sh">           Syntax error</span>
<span class="lineno">24</span> <span class="no">          eos</span>
<span class="lineno">25</span>       <span class="k">end</span>
<span class="lineno">26</span> 
<span class="lineno">27</span>     <span class="k">end</span>
<span class="lineno">28</span> 
<span class="lineno">29</span>    <span class="kp">private</span>
<span class="lineno">30</span> 
<span class="lineno">31</span>    <span class="c1">#</span>
<span class="lineno">32</span>    <span class="c1"># </span>
<span class="lineno">33</span>    <span class="c1">#</span>
<span class="lineno">34</span>    <span class="k">def</span> <span class="nf">determine_arguments</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
<span class="lineno">35</span> 
<span class="lineno">36</span>     <span class="k">return</span> <span class="n">input</span>
<span class="lineno">37</span> 
<span class="lineno">38</span>    <span class="k">end</span>
<span class="lineno">39</span> 
<span class="lineno">40</span>    <span class="c1">#</span>
<span class="lineno">41</span>    <span class="c1">#</span>
<span class="lineno">42</span>    <span class="c1">#</span>
<span class="lineno">43</span>    <span class="k">def</span> <span class="nf">tweet_script_tag</span><span class="p">(</span><span class="n">tweet_id</span><span class="p">)</span>
<span class="lineno">44</span> 
<span class="lineno">45</span>       <span class="n">result</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="no">URI</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;https://api.twitter.com/1/statuses/oembed.json?id=</span><span class="si">#{</span><span class="n">tweet_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="lineno">46</span>       <span class="n">json</span>   <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="lineno">47</span>       <span class="nb">hash</span>   <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
<span class="lineno">48</span>       <span class="n">parsed</span> <span class="o">=</span> <span class="nb">hash</span><span class="o">[</span><span class="s1">&#39;html&#39;</span><span class="o">]</span>
<span class="lineno">49</span> 
<span class="lineno">50</span>       <span class="k">return</span> <span class="n">parsed</span>     
<span class="lineno">51</span> 
<span class="lineno">52</span>    <span class="k">end</span>
<span class="lineno">53</span> 
<span class="lineno">54</span>   <span class="k">end</span>
<span class="lineno">55</span> <span class="k">end</span>
<span class="lineno">56</span> 
<span class="lineno">57</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="o">.</span><span class="n">register_tag</span><span class="p">(</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span> <span class="no">Jekyll</span><span class="o">::</span><span class="no">TweetTag</span><span class="p">)</span></code></pre></div>

<p>Actually, we can just put the generated code on twitter website and it is so easy to use. Now, I have no idea why I made this.</p>

<p><a href="https://github.com/kzykbys/JekyllPlugins/blob/master/tweet.rb">https://github.com/kzykbys/JekyllPlugins/blob/master/tweet.rb</a></p>

					</div>

				</div>

				<div id="sub">
				   <div class="side_box">
   <h3>About</h3>
      <p class="side_content">
         <i>Kazuya Kobayashi</i><br />
         - I'm a once law student trying to be computer geek.<br />
         - ギークになりたい。<br />
         <a href="mailto:kzy.kbys@gmail.com?subject=From Blog : &amp;body=Kazuya Kobayashi (小林和也)">kzy.kbys@gmail.com</a>
      </p>
</div>

<hr />

<h3>Work</h3>
   <p class="side_content">
     <a href="http://uppluslab.com/meeemo/" onclick="ga('send', 'event', 'meeemo', 'click', 'side_ads');">
      <img src="/images/meeemo_banner.png" style="margin-bottom:6px;"/>
      <br />
     </a>
     <a href="http://sharecla.com/" onclick="ga('send', 'event', 'sharecla', 'click', 'side_ads');">
      <img src="/images/sharecla_banner.png" style="margin-bottom:6px;"/>
      <br />
     </a>
   </p>
<hr />

<h3>Elsewhere</h3>
   <p class="side_content">
      <a href="https://www.facebook.com/kbys.kzy">Facebook</a><br />
      <a href="https://twitter.com/kzy_kbys">Twitter</a><br />
      <a href="https://github.com/kzykbys">Github</a>
   </p>

<hr />

<h3>Category</h3>
   <p class="side_content">|
      
   	   <a href="/categories/objective-c">objective-c
            (11)
         </a> |
      
   	   <a href="/categories/other">other
            (6)
         </a> |
      
   	   <a href="/categories/node-js">node.js
            (1)
         </a> |
      
   	   <a href="/categories/ruby-on-rails">ruby on rails
            (24)
         </a> |
      
   	   <a href="/categories/tips">tips
            (8)
         </a> |
      
   	   <a href="/categories/html5">html5
            (8)
         </a> |
      
   	   <a href="/categories/algorithms">algorithms
            (2)
         </a> |
      
   	   <a href="/categories/machine-learning">machine learning
            (5)
         </a> |
      
   	   <a href="/categories/c">c
            (14)
         </a> |
      
   	   <a href="/categories/ruby">ruby
            (5)
         </a> |
      
   	   <a href="/categories/swift">swift
            (34)
         </a> |
      
   	   <a href="/categories/ios">ios
            (6)
         </a> |
      
   	   <a href="/categories/books">books
            (3)
         </a> |
      
   	   <a href="/categories/kindle">kindle
            (3)
         </a> |
      
   	   <a href="/categories/nginx">nginx
            (1)
         </a> |
      
   	   <a href="/categories/capistrano">capistrano
            (1)
         </a> |
      
   </p>

<hr />

<h3>Archive</h3>
   <p class="side_content">|
      
   		<a href="/2013/08/">2013/08
            (2)
         </a> |
      
   		<a href="/2013/09/">2013/09
            (4)
         </a> |
      
   		<a href="/2013/11/">2013/11
            (11)
         </a> |
      
   		<a href="/2013/12/">2013/12
            (21)
         </a> |
      
   		<a href="/2014/01/">2014/01
            (5)
         </a> |
      
   		<a href="/2014/03/">2014/03
            (6)
         </a> |
      
   		<a href="/2014/04/">2014/04
            (7)
         </a> |
      
   		<a href="/2014/05/">2014/05
            (11)
         </a> |
      
   		<a href="/2014/06/">2014/06
            (40)
         </a> |
      
   		<a href="/2014/07/">2014/07
            (5)
         </a> |
      
   		<a href="/2014/08/">2014/08
            (3)
         </a> |
      
   		<a href="/2014/09/">2014/09
            (4)
         </a> |
      
   		<a href="/2014/10/">2014/10
            (9)
         </a> |
      
   		<a href="/2015/02/">2015/02
            (2)
         </a> |
      
   		<a href="/2015/07/">2015/07
            (2)
         </a> |
      
   </p>

<hr />

				</div>

			</div>


		</div>

				<div class="footer">
		   <div class="footer_inner">
			   <div class="contact">
				   <h4>About</h4>
				   <p>Kazuya Kobayashi<br />
				   - I'm a once law student trying to be computer geek.<br />
				   - ギークになりたい。<br />
				   <a href="mailto:kzy.kbys@gmail.com?subject=From Blog : &amp;body=Kazuya Kobayashi (小林和也)">kzy.kbys@gmail.com</a></p>
				   <h4>Elsewhere</h4>
				   <p>
					   <a href="https://www.facebook.com/kbys.kzy">Facebook</a><br />
					   <a href="https://twitter.com/kzy_kbys">Twitter</a><br />
					   <a href="https://github.com/kzykbys">Github</a></p>
				   <h4>Category</h4>
				   <p>|
					   
						   <a href="/categories/objective-c">objective-c</a> | 
					   
						   <a href="/categories/other">other</a> | 
					   
						   <a href="/categories/node-js">node.js</a> | 
					   
						   <a href="/categories/ruby-on-rails">ruby on rails</a> | 
					   
						   <a href="/categories/tips">tips</a> | 
					   
						   <a href="/categories/html5">html5</a> | 
					   
						   <a href="/categories/algorithms">algorithms</a> | 
					   
						   <a href="/categories/machine-learning">machine learning</a> | 
					   
						   <a href="/categories/c">c</a> | 
					   
						   <a href="/categories/ruby">ruby</a> | 
					   
						   <a href="/categories/swift">swift</a> | 
					   
						   <a href="/categories/ios">ios</a> | 
					   
						   <a href="/categories/books">books</a> | 
					   
						   <a href="/categories/kindle">kindle</a> | 
					   
						   <a href="/categories/nginx">nginx</a> | 
					   
						   <a href="/categories/capistrano">capistrano</a> | 
					   
				   </p>
				   <h4>Archive</h4>
					   <p>|
					   
	    					<a href="/2013/08/">2013/08
	    					</a> | 
	    			   
	    					<a href="/2013/09/">2013/09
	    					</a> | 
	    			   
	    					<a href="/2013/11/">2013/11
	    					</a> | 
	    			   
	    					<a href="/2013/12/">2013/12
	    					</a> | 
	    			   
	    					<a href="/2014/01/">2014/01
	    					</a> | 
	    			   
	    					<a href="/2014/03/">2014/03
	    					</a> | 
	    			   
	    					<a href="/2014/04/">2014/04
	    					</a> | 
	    			   
	    					<a href="/2014/05/">2014/05
	    					</a> | 
	    			   
	    					<a href="/2014/06/">2014/06
	    					</a> | 
	    			   
	    					<a href="/2014/07/">2014/07
	    					</a> | 
	    			   
	    					<a href="/2014/08/">2014/08
	    					</a> | 
	    			   
	    					<a href="/2014/09/">2014/09
	    					</a> | 
	    			   
	    					<a href="/2014/10/">2014/10
	    					</a> | 
	    			   
	    					<a href="/2015/02/">2015/02
	    					</a> | 
	    			   
	    					<a href="/2015/07/">2015/07
	    					</a> | 
	    			   
    			   </p>
			   </div>
		   </div>
	   	</div>

	   		  
	  	<!-- Sdir (slide menu for small screen) -->

<script>
	
  	$(document).ready(function() {
		$('#mobile-menu-button').sidr();	  
  	});

  	$('#mobile-menu-button').click(function(e){
  	});

  	$('html').click(function(e){
  		$.sidr('close', 'sidr');
  	});

</script>
	  	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28952627-6', 'kazuya.co');
  ga('send', 'pageview');

</script>

	</body>
</html>